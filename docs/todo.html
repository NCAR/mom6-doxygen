<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DART MOM6: Todo List</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DART MOM6
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Todo List</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="reflist">
<dt>Subprogram <a class="el" href="group__adaptive__inflate.html#gac8122d3ae758ffac6e018a1acdf1c1cc">adaptive_inflate_mod::do_obs_inflate</a>  (inflate_handle)</dt>
<dd><a class="anchor" id="_todo000016"></a>I am not sure you can get here given the check in adaptive_inflate_init()  </dd>
<dt>Subprogram <a class="el" href="group__adaptive__inflate.html#ga81a04174a5714a8630dd252999afa301">adaptive_inflate_mod::no_inflation</a>  </dt>
<dd><a class="anchor" id="_todo000015"></a>Eventually the namelist options corresponding to inflation should move from filter into this module and then possibly become two different namelists so we don't have these arrays of length (2).  </dd>
<dt>Subprogram <a class="el" href="advance__time_8f90.html#ae205d76d92f03c90e35a629abc900236">advance_time</a>  </dt>
<dd><a class="anchor" id="_todo000128"></a>if run with no inputs ... it just hangs. Can we make it fail straight away?  </dd>
<dt>Subprogram <a class="el" href="namespaceamsua__netcdf__support__mod.html#a2873acb0628e42c93894172e3489e3d5">amsua_netcdf_support_mod::add_granule_observations</a>  (seq, lon1, lon2, lat1, lat2, use_channels, scan_thin, xtrack_thin, obs, prev_obs, is_first_obs, pre_time, swath)</dt>
<dd><a class="anchor" id="_todo000208"></a>FIXME not happy with the time - seems like the swathstart_Time  </dd>
<dt>Module <a class="el" href="namespaceassim__model__mod.html">assim_model_mod</a>  </dt>
<dd><p class="startdd"><a class="anchor" id="_todo000017"></a>FIXME explore redundant routines , especially 'diagnostic' ones </p>
<p class="interdd"></p>
<p class="enddd">the documentation for this module is out-of-date.  </p>
</dd>
<dt>Subprogram <a class="el" href="group__assim__tools.html#gab4b7bf8f54732acb065128ff3aebeac8">assim_tools_mod::filter_assim</a>  (ens_handle, obs_ens_handle, obs_seq, keys, ens_size, num_groups, obs_val_index, inflate, ens_mean_copy, ens_sd_copy, ens_inf_copy, ens_inf_sd_copy, obs_key_copy, obs_global_qc_copy, obs_prior_mean_start, obs_prior_mean_end, obs_prior_var_start, obs_prior_var_end, inflate_only)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000019"></a>Can I just use the OBS_GLOBAL_QC_COPY? Is it ok to skip the loop? </p>
<p class="interdd"><a class="anchor" id="_todo000018"></a>Can I just use the OBS_GLOBAL_QC_COPY? Is it ok to skip the loop? </p>
<p class="interdd"><a class="anchor" id="_todo000021"></a></p>
<p class="interdd"><a class="anchor" id="_todo000022"></a>FIXME: this is messy, but should we have 6 different broadcasts, the three below and three more which omit the 2 localization values? how much does this cost in time? time this and see. </p>
<p class="interdd"><a class="anchor" id="_todo000023"></a>FIXME see the comment in the broadcast_send() section about the cost of sending unneeded values </p>
<p class="interdd"><a class="anchor" id="_todo000024"></a>FIXME: <br  />
 </p>
<p class="enddd"><a class="anchor" id="_todo000020"></a>it should also depend on if vertical is being converted. the last two values aren't needed unless vertical conversion is happening.  </p>
</dd>
<dt>Subprogram <a class="el" href="_s_m_a_p___l2__to__obs_8f90.html#a4e2180368eebca83a11294fe81f3620a">check_input_files</a>  (input_list, output_list)</dt>
<dd><a class="anchor" id="_todo000223"></a>The soil moisture error values are ALL MISSING in the data files I have. not using this for now.  </dd>
<dt>Subprogram <a class="el" href="closest__member__tool_8f90.html#a3ab53a58e7ea809aec11eef145bb0a91">compute_diff</a>  (ens_mems, ens_mean)</dt>
<dd><a class="anchor" id="_todo000129"></a>FIXME is this domain by domain? if so, need to loop over domains?  </dd>
<dt>Subprogram <a class="el" href="convert__cosmic__gps__cdf_8f90.html#ad793bc1f94f8f223b9ee3c49d8c3fdc2">convert_cosmic_gps_cdf</a>  </dt>
<dd><a class="anchor" id="_todo000222"></a>FIXME we need to redefine GPSRO_REFRACTIVITY to be the non-local operator and define a new obs type that is the local operator. in that case we don't need any additional metadata and can save time and space. (or redefine them both, and make GPSRO_REFRACTIVITY an alias for the non-local version)  </dd>
<dt>Subprogram <a class="el" href="convert__roms__obs_8f90.html#a4322c056d1d52bf03a9e81a0affbfc19">convert_ijk_to_latlondepth</a>  (r_iloc, r_jloc, r_kloc, dart_type, lon, lat, depth)</dt>
<dd><a class="anchor" id="_todo000234"></a>FIXME ... r_kloc may be MISSING_R8 ... in that the parent variable "obs_depth" in the IJK world has a 'missing_value' attribute  </dd>
<dt>Subprogram <a class="el" href="convert__roms__obs_8f90.html#add6fae097781189903f98c17e1035ab1">convert_romstype_to_darttype</a>  (roms_prov, dart_type)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000232"></a>FIXME ... depth may be MISSING_R8 ... in that the parent variable "obs_depth" has a 'missing_value' attribute </p>
<p class="interdd"><a class="anchor" id="_todo000231"></a>FIXME make sure the missing values in the depth arrays are handled </p>
<p class="interdd"><a class="anchor" id="_todo000230"></a>FIXME - TJH: could remove the locations_in_IJK variable by simply checking if the obs_lon,obs_lat variables exist. If they do exist, use them; if not - try the IJK method. </p>
<p class="interdd"><a class="anchor" id="_todo000229"></a>FIXME - TJH: The type_translations table is currently implemented as an explicit set of type translations ... it <em>could</em> be made to exist as a superset with multiple ROMS variants that relate to the same DART TYPE. hernan and tim prefer the superset, Chris and Nancy prefer the subset ... Andy? </p>
<p class="interdd"><a class="anchor" id="_todo000228"></a>FIXME - TJH: I vote to remove the roms_obs_files() mechanism since roms_mod_obs_filelist is so much more flexible. The roms_obs_files variable just mucks up the namelist print and log files. </p>
<p class="interdd"><a class="anchor" id="_todo000227"></a>FIXME - we could get the ens size from the number of input files but we can also ask users to tell us how many should be there so we can error out if the counts don't match. </p>
<p class="enddd"><a class="anchor" id="_todo000233"></a>... write out a summary of how many observations were successfully converted.  </p>
</dd>
<dt>Subprogram <a class="el" href="group__dart__time__io__mod.html#ga7bfdc335dd73bc49a83df53274a7fb6b">dart_time_io_mod::read_model_time</a>  (filename)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000039"></a>FIXME: do we really want this to print from any task without being asked? i vote no. </p>
<p class="enddd"><a class="anchor" id="_todo000040"></a>FIXME:  </p>
</dd>
<dt>Subprogram <a class="el" href="oned_2obs__diag_8f90.html#aacd70d0a9a92f0ca5fd49dc55ce35d8c">determinenumepochs</a>  (time1, timen, nsteps, time_to_skip)</dt>
<dd><a class="anchor" id="_todo000140"></a>replace with GetFirstLastObs()  </dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga285ec6a4e531cbba343a349a20deea76">direct_netcdf_mod::clamp_variable</a>  (dom_id, var_index, variable)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000051"></a>again, if we're allowing missing in state, this has to be masked: </p>
<p class="interdd"><a class="anchor" id="_todo000052"></a>again, if we're allowing missing in state, this has to be masked: </p>
<p class="enddd"><a class="anchor" id="_todo000050"></a>this is what the code needs to be for CLM and any other  </p>
</dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga30e5e10d0b1bbc7e42a16ee50f75906f">direct_netcdf_mod::create_and_open_state_output</a>  (name_handle, dom_id, copy_number, dart_time, single_precision_output)</dt>
<dd><a class="anchor" id="_todo000055"></a>if we already have a unique names we can take this test out  </dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga31098fc0ee34f4559645cd5122edc81e">direct_netcdf_mod::nc_write_calendar_atts</a>  (ncfileid, timevarid)</dt>
<dd><a class="anchor" id="_todo000070"></a>FIXME this duplicates code in <a class="el" href="dart__time__io__mod_8f90.html">dart_time_io_mod.f90</a> - it should be one place or the other.  </dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga9b4b6fd124b574282fccbff0d7c07437">direct_netcdf_mod::nc_write_file_information</a>  (ncfileid, filename, description)</dt>
<dd><a class="anchor" id="_todo000059"></a>FIXME ? use derived type for copy number and get long name  </dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga14f0ad63f26920f56019fe2036506b71">direct_netcdf_mod::nc_write_global_att_clamping</a>  (ncfileid, copy, domid, from_scratch)</dt>
<dd><a class="anchor" id="_todo000060"></a>FIXME check to see if this has a performance impact.  </dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#gaf8d438fbf74476572922b31434f3f2e9">direct_netcdf_mod::nc_write_revision_info</a>  (ncfileid)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000061"></a>this should only be done for <em>new</em> files that DART creates - performance issue </p>
<p class="interdd"></p>
<p class="enddd">this will change when we move to GIT  </p>
</dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga6de05cb71d2bbee35200331c64f5a4c5">direct_netcdf_mod::num_elements_on_pe</a>  (pe, start_rank, block_size)</dt>
<dd><a class="anchor" id="_todo000071"></a>FIXME ? This should go in ensemble manager.  </dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga537d935ffe862c59c53c24dc4825ec14">direct_netcdf_mod::overwrite_time_in_output_file</a>  </dt>
<dd><a class="anchor" id="_todo000042"></a>FIXME: this should be in a namelist somewhere and passed in from a higher level routine. </dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga1bde9358fa6fadc774d471d0bec36553">direct_netcdf_mod::read_single_file</a>  (state_ens_handle, file_handle, use_time_from_file, mtime, pert_from_single_copy)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000045"></a>FIXME : just reading and distributing one variable at a time. <br  />
 Should probably do this in a block? </p>
<p class="interdd"><a class="anchor" id="_todo000044"></a>Check time consistency across files? This is assuming they are consistent. </p>
<p class="enddd"><a class="anchor" id="_todo000043"></a>: only a single domain for single file read supported. need <br  />
 to consider case for multiple domains.  </p>
</dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#gad4f365fad4bff8aeef537b79fa8c65c6">direct_netcdf_mod::send_to_waiting_task</a>  (state_ens_handle, recv_pe, start, elm_count, block_size, variable_block)</dt>
<dd><a class="anchor" id="_todo000062"></a>MPI vector data type or packing could/should be used here?  </dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#gaac697410acb3e6e9c9483c6865694799">direct_netcdf_mod::transpose_write_multi_task</a>  (state_ens_handle, name_handle, domain, dart_index, write_var_by_var, write_single_precision)</dt>
<dd><a class="anchor" id="_todo000049"></a>This is grabbing the time assuming the ensemble is var complete. Should we instead have all copies time in the ensemble handle?  </dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga5a0dc19e06b1c54e04d3bd0921f674a1">direct_netcdf_mod::transpose_write_single_task</a>  (state_ens_handle, name_handle, domain, dart_index, write_single_precision)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000047"></a>This is grabbing the time assuming the ensemble is var complete. Should we instead have all copies time in the ensemble handle? </p>
<p class="enddd"><a class="anchor" id="_todo000048"></a>if multiple domains exist in the same file, only the variables from the first domain are created by <a class="el" href="group__direct__netcdf__mod.html#ga30e5e10d0b1bbc7e42a16ee50f75906f" title="Write variables from start_var to end_var for actual ensemble members.">create_and_open_state_output()</a> and since the file exists, the variables for the additional domains never get defined in the netCDF file.  </p>
</dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga4db4441591f610b3e2c4d06480c28535">direct_netcdf_mod::write_augmented_state</a>  (ens_handle, file_handle)</dt>
<dd><a class="anchor" id="_todo000046"></a>: only a single domain for single file read supported. need to consider case for multiple domains.  </dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga06dc065665c83c091c1b4c4feb5c16b8">direct_netcdf_mod::write_extra_attributes</a>  (ncfileid, time_dimid, file_handle, copy_index)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000068"></a>we should always write double, unless the single output namelist flag is set. this gives you no way to write single precision if you've compiled with normal r8 - FIXME </p>
<p class="enddd"><a class="anchor" id="_todo000069"></a>ONLY ONE DOMAIN FOR SINGLE FILES  </p>
</dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga1b7ae906009b2de66351c7a1bb904987">direct_netcdf_mod::write_extra_variables</a>  (ncfileid, model_state, copyname, curr_ens_time, timeindex)</dt>
<dd><a class="anchor" id="_todo000067"></a>ONLY ONE DOMAIN FOR SINGLE FILE OUTPUT  </dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga490370b86f88f566fa0e84c367401b0a">direct_netcdf_mod::write_model_attributes</a>  (ncfileid, member_dimid, time_dimid, file_handle)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000066"></a>if we already have a unique names we can take this test out </p>
<p class="interdd"><a class="anchor" id="_todo000064"></a>we should always write double, unless the single output namelist flag is set. this gives you no way to write single precision if you've compiled with normal r8 - FIXME </p>
<p class="enddd"><a class="anchor" id="_todo000065"></a>ONLY ONE DOMAIN FOR SINGLE FILES  </p>
</dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga9832acfa2d0a5df09bb4a312efa0d407">direct_netcdf_mod::write_model_variables</a>  (ncfileid, model_state, memindex, curr_ens_time, timeindex)</dt>
<dd><a class="anchor" id="_todo000063"></a>ONLY ONE DOMAIN FOR SINGLE FILE OUTPUT  </dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga507c64d98551df97643e9e549a1e3a6d">direct_netcdf_mod::write_variable_attributes</a>  (filename, ncfileid, ncvarid, domid, varid, name_handle, copy_number)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000058"></a>FIXME: put clamping values with min_val, max_val, valid_range, or whatever the proper CF-range </p>
<p class="interdd"><a class="anchor" id="_todo000057"></a>FIXME: should this be independent of the name_handle? right now it is just used to put unitless for the sd and inflation values attributes for variables without units such as inflation and sd </p>
<p class="enddd"><a class="anchor" id="_todo000056"></a>FIXME: also need to have different routines for different different types of numbers for add_offset and scale_factor. Keeping it simple for now since they are not being used.  </p>
</dd>
<dt>Subprogram <a class="el" href="group__direct__netcdf__mod.html#ga4797f5013f67a845fdd1ac9aee5bdd9a">direct_netcdf_mod::write_variables</a>  (ncid, var_block, start_var, end_var, domain, do_file_clamping, force_copy)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000054"></a>FIXME, the first variable in the second domain is not found when using coamps_nest. </p>
<p class="enddd"><a class="anchor" id="_todo000053"></a>reduce output in log file?  </p>
</dd>
<dt>Subprogram <a class="el" href="namespaceensemble__manager__mod.html#ae290ccc4e130e2cc3280aff6a920eae5">ensemble_manager_mod::allocate_vars</a>  (ens_handle)</dt>
<dd><a class="anchor" id="_todo000118"></a>FIXME: solution 1, don't check. solution 2, don't override @ distributed_state if ntasks = 1 in filter.  </dd>
<dt>Subprogram <a class="el" href="namespaceensemble__manager__mod.html#aae414f09d6b35238466fee2440e3273e">ensemble_manager_mod::communication_configuration</a>  </dt>
<dd><a class="anchor" id="_todo000117"></a>remove all things related to this  </dd>
<dt>Subprogram <a class="el" href="structensemble__manager__mod_1_1ensemble__type.html#a798e221252efef0400ab66192a4e274b">ensemble_manager_mod::ensemble_type::num_vars</a>  </dt>
<dd><p class="startdd"><a class="anchor" id="_todo000115"></a>update documentation with regard to 'single_restart_file_[in,out]' </p>
<p class="enddd"><a class="anchor" id="_todo000116"></a>FIXME the rule here should be that we only access copies and vars for efficiency but every other part of this structure should go through accessor routines.  </p>
</dd>
<dt>Subprogram <a class="el" href="namespacefilter__mod.html#ac167793e46b9ae30bc56975ce777cae4">filter_mod::broadcast_time_across_copy_owners</a>  (ens_handle, ens_time)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000028"></a>This is broadcasting the time to all tasks, not just the tasks that own copies. </p>
<p class="enddd"><a class="anchor" id="_todo000034"></a>This is broadcasting the time to all tasks, not just the tasks that own copies.  </p>
</dd>
<dt>Subprogram <a class="el" href="namespacefilter__mod.html#ab534c6a0fba7c3dc09e5e1d7d4081725">filter_mod::filter_main</a>  ()</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000027"></a>FIXME turn trace/timestamp calls into: <br  />
</p>
<p class="enddd"><a class="anchor" id="_todo000033"></a>FIXME turn trace/timestamp calls into: <br  />
 </p>
</dd>
<dt>Subprogram <a class="el" href="namespacefilter__mod.html#ab751fbc6a9ea198bae7c0f7a23c3f340">filter_mod::input_state_files</a>  </dt>
<dd><p class="startdd"><a class="anchor" id="_todo000031"></a>FIXME - how does this work for multiple domains? ens1d1, ens2d1, ... ens1d2 or ens1d1 ens1d2, ens1d1 ens2d2, etc i like the latter better. </p>
<p class="enddd"><a class="anchor" id="_todo000025"></a>FIXME - how does this work for multiple domains? ens1d1, ens2d1, ... ens1d2 or ens1d1 ens1d2, ens1d1 ens2d2, etc i like the latter better.  </p>
</dd>
<dt>Subprogram <a class="el" href="namespacefilter__mod.html#a8f715cc2fb31b5b14a58f9bd06cf86f3">filter_mod::output_members</a>  </dt>
<dd><p class="startdd"><a class="anchor" id="_todo000026"></a>FIXME for preassim and postassim output it might be we should be controlling the writing of individual ensemble members by looking at the num_output_state_member value. 0 means don't write any members, otherwise it's a count. and for completeness, there could be a count for pre and a count for post. </p>
<p class="enddd"><a class="anchor" id="_todo000032"></a>FIXME for preassim and postassim output it might be we should be controlling the writing of individual ensemble members by looking at the num_output_state_member value. 0 means don't write any members, otherwise it's a count. and for completeness, there could be a count for pre and a count for post.  </p>
</dd>
<dt>Subprogram <a class="el" href="namespacefilter__mod.html#a9b1d65085fce43bd275a8fe91bc0725e">filter_mod::set_input_file_info</a>  (file_info, num_ens, stage_copies)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000029"></a>know whether we are perturbing or not </p>
<p class="enddd"><a class="anchor" id="_todo000035"></a>know whether we are perturbing or not  </p>
</dd>
<dt>Subprogram <a class="el" href="namespacefilter__mod.html#a5fcd2a1cd08db2f0df8bb60b53a9f54b">filter_mod::set_output_file_info</a>  (file_info, num_ens, stage_copies, do_clamping, force_copy)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000036"></a>revisit if we should be clamping mean copy for file_info_output </p>
<p class="enddd"><a class="anchor" id="_todo000030"></a>revisit if we should be clamping mean copy for file_info_output  </p>
</dd>
<dt>Subprogram <a class="el" href="cice__to__obs_8f90.html#a62bd36198880ba5cd50a0c1b468288a7">fix_filename</a>  (inpattern, outstring, year, month, day)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000213"></a>FIXME open the new output file? </p>
<p class="interdd"><a class="anchor" id="_todo000212"></a>make sure start_time = end_time if you aren't generating the filenames by pattern. </p>
<p class="interdd"><a class="anchor" id="_todo000216"></a>add error handling </p>
<p class="interdd"><a class="anchor" id="_todo000214"></a>make sure start_time = end_time if you aren't generating the filenames by pattern. </p>
<p class="interdd"><a class="anchor" id="_todo000215"></a>FIXME: here if we're looping over the output, write the obs_seq file and open a new one </p>
<p class="interdd"><a class="anchor" id="_todo000210"></a>FIXME - originally i thought we needed to read the netcdf file which contained the model land mask. but creating observations from the binary files is unrelated to the model grid so this code is currently commented out and probably should be removed. BUT: it could be useful to create an obs_seq.in (synthetic obs) for <br  />
 a perfect_model_obs experiment, so i've left it for now. <br  />
 (all related code marked with LANDMASK tag for easier cleanup.) nsc 30jun2016 </p>
<p class="enddd"><a class="anchor" id="_todo000211"></a>FIXME tell user we are ignoring existing file and why  </p>
</dd>
<dt>Subprogram <a class="el" href="namespaceforward__operator__mod.html#ab91aef0208946560992d4688283b20dc">forward_operator_mod::get_expected_obs_distrib_state</a>  (seq, keys, state_time, isprior, istatus, assimilate_this_ob, evaluate_this_ob, state_ens_handle, num_ens, copy_indices, expected_obs)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000111"></a>do you ever use this with more than one obs? </p>
<p class="enddd"><a class="anchor" id="_todo000110"></a>does this need to be for a set of obs? </p>
</dd>
<dt>Subprogram <a class="el" href="namespaceforward__operator__mod.html#af35dca4b85910d40d7a83747b059600b">forward_operator_mod::get_obs_ens_distrib_state</a>  (ens_handle, obs_fwd_op_ens_handle, qc_ens_handle, seq, keys, obs_val_index, input_qc_index, obs_err_var_copy, obs_val_copy, obs_key_copy, obs_global_qc_copy, obs_extra_qc_copy, obs_mean_copy, obs_var_copy, isprior, prior_qc_copy)</dt>
<dd><a class="anchor" id="_todo000109"></a>Science quesion: Should groups be considered separately for outlier threshold test?  </dd>
<dt>Struct <a class="el" href="structgoes__abi__l1b__mod_1_1goes__abi__map__type.html">goes_abi_l1b_mod::goes_abi_map_type</a>  </dt>
<dd><a class="anchor" id="_todo000220"></a>FIXME ... we should be using a lot more of the netcdf_utilities interfaces. they greatly simplify the code.  </dd>
<dt>Subprogram <a class="el" href="namespacegoes__abi__l1b__mod.html#a4d42c662764026e48738b4acc422de6e">goes_abi_l1b_mod::make_obs_sequence</a>  (seq, map, lon1, lon2, lat1, lat2, x_thin, y_thin, goes_num, reject_dqf_1, obs_err_spec, vloc_pres_hpa)</dt>
<dd><a class="anchor" id="_todo000221"></a>FIXME : the <a class="el" href="dart__time__io__mod_8f90.html">dart_time_io_mod.f90</a> or the <a class="el" href="netcdf__utilities__mod_8f90.html">netcdf_utilities_mod.f90</a> should have a routne to read the attribute and set the start_time ....  </dd>
<dt>Subprogram <a class="el" href="threed__sphere_2obs__diag_8f90.html#abdc315c42f4516b573054d473c4b0824">grok_observation_names</a>  (my_names)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000151"></a>remove after verifying NbiqQC not used in plotting scripts </p>
<p class="enddd"><a class="anchor" id="_todo000152"></a>remove after verifying NbiqIZ not used in plotting scripts  </p>
</dd>
<dt>Subprogram <a class="el" href="test__cf__conventions_8f90.html#a190205ec9e0bababeceec9424411de9f">initialize_module</a>  </dt>
<dd><a class="anchor" id="_todo000158"></a>FIXME ... add variable E when scale/offset are supported  </dd>
<dt>Subprogram <a class="el" href="threed__cartesian_2obs__diag_8f90.html#a1f134118d7267ea360ed029e1ea14402">initializevariables</a>  (ntimes, nlevs, nareas, ntypes)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000148"></a>remove after verifying NbiqIZ not used in plotting scripts </p>
<p class="interdd"><a class="anchor" id="_todo000147"></a>remove after verifying NbiqQC not used in plotting scripts </p>
<p class="interdd"><a class="anchor" id="_todo000143"></a>remove after verifying NbiqQC not used in plotting scripts </p>
<p class="enddd"><a class="anchor" id="_todo000144"></a>remove after verifying NbiqIZ not used in plotting scripts  </p>
</dd>
<dt>Subprogram <a class="el" href="group__io__filenames__mod.html#ga828bf9ab7aec6319613509833273ef37">io_filenames_mod::check_attributes</a>  (ncfile, filename, ncvarid, domid, varid)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000077"></a>FIXME report the variable with the unsupported xtype </p>
<p class="interdd"><a class="anchor" id="_todo000076"></a>FIXME report the variable with the unsupported xtype </p>
<p class="enddd"><a class="anchor" id="_todo000078"></a>FIXME : for now we are only storing r8 offset and scale since DART is not using them  </p>
</dd>
<dt>Subprogram <a class="el" href="group__io__filenames__mod.html#gaa1b244a70c984c58b00ea473873de749">io_filenames_mod::construct_file_names</a>  (file_info, ens_size, copy, domain)</dt>
<dd><a class="anchor" id="_todo000079"></a>what to do with copy .... should be string to describe inflation/mean/etc.  </dd>
<dt>Subprogram <a class="el" href="group__io__filenames__mod.html#gaad967a418008d660677a52f48f35b12a">io_filenames_mod::io_filenames_finalize</a>  (file_info)</dt>
<dd><a class="anchor" id="_todo000080"></a>FIXME should be called somewhere  </dd>
<dt>Subprogram <a class="el" href="group__io__filenames__mod.html#ga29f2ee6ce9ec4ffb32c45586e7208e1c">io_filenames_mod::io_filenames_init</a>  (file_info, ncopies, cycling, single_file, restart_files, root_name, check_output_compatibility)</dt>
<dd><a class="anchor" id="_todo000074"></a>FIXME JPH : Should these be required interfaces?  </dd>
<dt>Struct <a class="el" href="structio__filenames__mod_1_1netcdf__file__type.html">io_filenames_mod::netcdf_file_type</a>  </dt>
<dd><a class="anchor" id="_todo000072"></a>FIXME need to make these derived types components private again, and These types should be moved into a separate NetCDF module.  </dd>
<dt>Subprogram <a class="el" href="group__io__filenames__mod.html#gabdde16ce15123f6a0fd3ccd9a03a8bd2">io_filenames_mod::noutput_state_variables</a>  (file_handle)</dt>
<dd><a class="anchor" id="_todo000082"></a>need to change the name to represent that this relates to the number of copies to write.  </dd>
<dt>Subprogram <a class="el" href="group__io__filenames__mod.html#ga70cbfa7f0895d3a51ed17ebc7fea96fa">io_filenames_mod::set_member_file_metadata</a>  (file_info, ens_size, my_copy_start)</dt>
<dd><a class="anchor" id="_todo000075"></a>FIXME : Is it sufficient to check if the first file exists? JPH  </dd>
<dt>Subprogram <a class="el" href="group__io__filenames__mod.html#gabe7d601e5e8579db79916210e4e93dba">io_filenames_mod::single_file_initialized</a>  (file_handle)</dt>
<dd><a class="anchor" id="_todo000081"></a>fixme: document what this routine does.  </dd>
<dt>Struct <a class="el" href="structio__filenames__mod_1_1stage__metadata__type.html">io_filenames_mod::stage_metadata_type</a>  </dt>
<dd><a class="anchor" id="_todo000073"></a>FIXME 'file_description' -&gt; 'copy_description' -&gt; 'file metadata'?  </dd>
<dt>Subprogram <a class="el" href="oned_2obs__diag_8f90.html#ae40b8379a41a7defb994e1263438a78a">is_location_in_region</a>  (lon, lon1, lon2)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000138"></a>support if the region of interest is [0.8, 0.2] </p>
<p class="interdd"><a class="anchor" id="_todo000136"></a>support if the region of interest is [0.8, 0.2] </p>
<p class="interdd"><a class="anchor" id="_todo000139"></a>support if the region of interest is [0.8, 0.2] </p>
<p class="enddd"><a class="anchor" id="_todo000137"></a>support if the region of interest is [0.8, 0.2]  </p>
</dd>
<dt>Module <a class="el" href="namespacelocation__io__mod.html">location_io_mod</a>  </dt>
<dd><p class="startdd"><a class="anchor" id="_todo000008"></a>FIXME there is no documentation for this module. </p>
<p class="interdd"><a class="anchor" id="_todo000010"></a>There is no documentation for this module. </p>
<p class="enddd"><a class="anchor" id="_todo000009"></a>FIXME define ALL the VERTISXXX here, add a call to has_vertical_choice to the xxx/location_mod, and if no, return without needing routines in each of the specific location routines. if yes, call query and match it with the type to return true/false. remove vert_is_xxx from all the other location routines!!! :) will have to replicate the VERTISxxx in the location modules because fortran doesn't allow circular 'use's between modules. ugh.  </p>
</dd>
<dt>Subprogram <a class="el" href="namespacelocation__io__mod.html#a82a39fe6f6f692d801d4b9eda335dc23">location_io_mod::nc_get_location_varids</a>  (ncfileid, locationvarid, whichvertvarid, fname)</dt>
<dd><a class="anchor" id="_todo000014"></a>FIXME do we still need this? </dd>
<dt>Subprogram <a class="el" href="namespacelocation__io__mod.html#a164462ab1037c7655fe84160783d4f6f">location_io_mod::nc_write_location_atts</a>  (ncfileid, dimlen, use_dimid, fname)</dt>
<dd><a class="anchor" id="_todo000013"></a>FIXME does the last arg need to be an optional actual dim? or an additional dim? check obs_seq_verify for usage  </dd>
<dt>Subprogram <a class="el" href="namespacelocation__io__mod.html#ab68c83f03ef48180d0fa88a315ebc427">location_io_mod::vertisundef</a>  </dt>
<dd><a class="anchor" id="_todo000012"></a>define them all here and replicate in the ones which use them.  </dd>
<dt>Module <a class="el" href="namespacelocation__mod.html">location_mod</a>  </dt>
<dd><a class="anchor" id="_todo000001"></a>the channel location_mod.html needs to be written.  </dd>
<dt>Subprogram <a class="el" href="namespacelocation__mod.html#a59880fb0c00dd25acb062f262c3c6806">location_mod::get_close</a>  (gc, base_loc, base_type, locs, loc_qtys, num_close, close_ind, dist, ens_handle)</dt>
<dd><a class="anchor" id="_todo000006"></a>this is doing an exhaustive search each time. expensive but should give the right answer.  </dd>
<dt>Subprogram <a class="el" href="namespacelocation__mod.html#ab27e989fc6ef1779d416b8ca0616352c">location_mod::max_items</a>  </dt>
<dd><a class="anchor" id="_todo000007"></a>make these allocatable instead of fixed length  </dd>
<dt>(==) Interface <a class="el" href="interfacelocation__mod_1_1operator_07_0a_0a_08.html">location_mod::operator(==)</a>  </dt>
<dd><a class="anchor" id="_todo000004"></a>: for any point and combination of periodic axes, there are 2^N phantom points where we must compute distance. if 'o' is the original location of the point, here are the possibilities: nothing periodic, 1 point: o single axis periodic, 2 points, e.g. x: o o + x_offset double axis periodic, 4 points, e.g. x,y: o o + x_offset o + y_offset o + x_offset + y_offset triple axis periodic, 8 points: o o + x_offset o + y_offset o + z_offset o + x_offset + y_offset o + x_offset + z_offset o + y_offset + z_offset o + x_offset + y_offset + z_offset </dd>
<dt>Struct <a class="el" href="structlocation__mod_1_1periodic__info__type.html">location_mod::periodic_info_type</a>  </dt>
<dd><a class="anchor" id="_todo000003"></a>: is this how to approach it? there are 8 different offsets depending on which side of each axis midline the original point is on. (the values are the same; the sign changes. i can add if() tests and do add/subtracts, or i can set the offsets differently and do a single if() on the midline sign or box number tests? require number of boxes to be even, and do integer tests on middle box values.  </dd>
<dt>Subprogram <a class="el" href="namespacelocation__mod.html#a4d1671354cd7e57e88c51bf79e2082a1">location_mod::vertical_localization_on</a>  ()</dt>
<dd><a class="anchor" id="_todo000002"></a>FIXME Always returns false since this type of location doesn't support vertical localization (no namelist choice). but it could since it makes sense for this type.  </dd>
<dt>Subprogram <a class="el" href="namespacenetcdf__utilities__mod.html#aa2f5f746f60626376f8f0afa7de86aca">netcdf_utilities_mod::nc_get_variable_info</a>  (ncid, varname, xtype, ndims, dimlens, dimnames, natts, context, filename)</dt>
<dd><a class="anchor" id="_todo000119"></a>do we want to make sure dimlens, dimnames are long enough  </dd>
<dt>Module <a class="el" href="namespaceobs__def__cice__mod.html">obs_def_cice_mod</a>  </dt>
<dd><a class="anchor" id="_todo000161"></a>FIXME: check to see if obs are of volume or thickness - for now we  </dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__cice__mod.html#a9c8fee0ebee2f2da2246c48364a34ee0">obs_def_cice_mod::initialize_module</a>  (state_handle, ens_size)</dt>
<dd><a class="anchor" id="_todo000162"></a>FIXME ... instead of using multiple istatus? arrays, could use the track_status() routine  </dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__cosmos__mod.html#a75b52b688aa7ae548b04d1e8b02e617b">obs_def_cosmos_mod::get_expected_neutron_intensity</a>  (state_handle, ens_size, location, key, val, istatus)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000170"></a>JH can we some how fix this logic to not include an imem loop? can not use WHERE () when there is an exit. </p>
<p class="interdd"><a class="anchor" id="_todo000171"></a>put these computations in a routine and call it only if istatus is ok. </p>
<p class="interdd"><a class="anchor" id="_todo000172"></a>FIXME JH: probably will not do pointwise exponentiation </p>
<p class="enddd"><a class="anchor" id="_todo000173"></a>FIXME JH: probably will not do pointwise exponentiation  </p>
</dd>
<dt>Module <a class="el" href="namespaceobs__def__cwp__mod.html">obs_def_cwp_mod</a>  </dt>
<dd><a class="anchor" id="_todo000174"></a>FIXME remove all the TAB characters - technically not supported, can issue warnings  </dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__dew__point__mod.html#a6bf2fc9a449a4b5abec9751c873fafaa">obs_def_dew_point_mod::get_expected_dew_point</a>  (state_handle, ens_size, location, key, td, istatus)</dt>
<dd><a class="anchor" id="_todo000175"></a>make strings longer  </dd>
<dt>Module <a class="el" href="namespaceobs__def__gps__mod.html">obs_def_gps_mod</a>  </dt>
<dd><a class="anchor" id="_todo000176"></a>we should have a local vs nonlocal forward operator for GPS RO, so we don't have to add the metadata for the local operator. big space and time savings. also, we should add GPSRO_BENDING_ANGLE if someone can contribute a forward operator for it.  </dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__gps__mod.html#ae019e1257e924324cc1353a92c7388d5">obs_def_gps_mod::get_expected_gpsro_ref</a>  (state_handle, ens_size, location, gpskey, ro_ref, istatus)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000177"></a>we need to add a different obs type and kind for the local operator, so we can avoid allocating metadata because it isn't needed <em>at all</em> for the local operator. nsc 30oct2015 </p>
<p class="interdd"><a class="anchor" id="_todo000184"></a>is the first line necessary? i believe the second one is a necessary test. </p>
<p class="interdd"><a class="anchor" id="_todo000178"></a>is the first line necessary? i believe the second one is a necessary test. </p>
<p class="enddd"><a class="anchor" id="_todo000183"></a>we need to add a different obs type and kind for the local operator, so we can avoid allocating metadata because it isn't needed <em>at all</em> for the local operator. nsc 30oct2015  </p>
</dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__grace__mod.html#a9495acf0984c2c424c44bef5935e35b2">obs_def_grace_mod::get_expected_tws</a>  (state_handle, ens_size, location, velkey, expected_obs, istatus)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000181"></a>some models may not have aquifer ... should this be an error ... </p>
<p class="interdd"><a class="anchor" id="_todo000180"></a>replace the 100, 300, 600, 1000 with the actual layer thicknesses. </p>
<p class="enddd"><a class="anchor" id="_todo000179"></a>Determine number of layers and their thicknesses automatically  </p>
</dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__gts__mod.html#a0708b7326c7d2599ff8a22a4de517a7f">obs_def_gts_mod::get_expected_thickness</a>  (state_handle, ens_size, location, thickness, istatus)</dt>
<dd><a class="anchor" id="_todo000182"></a>is this magic number reasonable? jeff thinks no.  </dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__ion__density__mod.html#a36d2f4ba9fa0cd9830872bad30ba9879">obs_def_ion_density_mod::source</a>  </dt>
<dd><a class="anchor" id="_todo000191"></a>compare get_expected_oxygen_ion_val to <a class="el" href="obs__def__upper__atm__mod_8f90.html">obs_def_upper_atm_mod.f90</a>:get_expected_oxygen_ion_density ... identical  </dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__mopitt__mod.html#a87c81c3c346fa04c9e9c159a251dd142">obs_def_mopitt_mod::get_expected_iasi_co</a>  (state_handle, ens_size, location, key, val, istatus)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000164"></a>can this happen? and if so, is it ok to call interpolate anyway for all ensemble members? </p>
<p class="interdd"><a class="anchor" id="_todo000165"></a>FIXME JH need to figure out how to enclose write statements </p>
<p class="interdd"><a class="anchor" id="_todo000166"></a>check with the cam/chem guys - do they absolutely have to have -777 as some magic value for this failed case? </p>
<p class="enddd"><a class="anchor" id="_todo000163"></a>this is not a global array (anymore?) so it's ok  </p>
</dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__mopitt__mod.html#a60b959fbf25b7209afb75fe15c4250d7">obs_def_mopitt_mod::get_expected_mopitt_co</a>  (state_handle, ens_size, location, key, val, istatus)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000169"></a>FIXME JH need to figure out how to enclose write statements </p>
<p class="interdd"><a class="anchor" id="_todo000168"></a>same comment as previous subroutine </p>
<p class="enddd"><a class="anchor" id="_todo000167"></a>not global array  </p>
</dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__ocean__mod.html#aa7d7ab905c9e0bdf78bad4ffde652539">obs_def_ocean_mod::get_expected_hf_radial_vel</a>  (state_handle, ens_size, location, velkey, radial_vel, istatus)</dt>
<dd><a class="anchor" id="_todo000190"></a>this needs to use the error_handler() and set do_output(.true.) save the original output status and reset at the end  </dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__rttov__mod.html#abad0f86d4cf901ca9caad3829dbf8a9d">obs_def_rttov_mod::get_expected_radiance</a>  (obs_kind_ind, state_handle, ens_size, location, key, flavor, val, istatus)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000192"></a>FIXME If the model does not check for surface consistency, should we continue ... </p>
<p class="enddd"><a class="anchor" id="_todo000193"></a>FIXME If the model does not check for surface consistency, should we continue ...  </p>
</dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__tes__nadir__mod.html#a42ee655a707311d1ae398ac46ae8ba7b">obs_def_tes_nadir_mod::get_expected_tes_nadir_obs</a>  (state_handle, ens_size, location, teskey, expected_obs, istatus)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000197"></a>FIXME Possibly we could overload interpolate and set_location to take an array of locations then have interpolate sort the list into unique values, then call model_interpolate for only the unique locations. Or sort into unique values of isoP here. For now this is a loop around ensemble_size calling interpolate - overcommunicating </p>
<p class="interdd"><a class="anchor" id="_todo000194"></a>See how much how stack this is using </p>
<p class="interdd"><a class="anchor" id="_todo000195"></a>Are warnings written by tasks other than task 0? </p>
<p class="interdd"><a class="anchor" id="_todo000196"></a>This needs refactoring at some point </p>
<p class="enddd"><a class="anchor" id="_todo000198"></a>This should go into a subroutine  </p>
</dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__tower__mod.html#a50531f3e667c6c65e67d369a432f05bb">obs_def_tower_mod::initialize_module</a>  (model_time)</dt>
<dd><a class="anchor" id="_todo000199"></a>FIXME check all other ensemble member history files to make sure metadata is the same.  </dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__tpw__mod.html#aacff7b6a86a939d5a92a1104d948203a">obs_def_tpw_mod::get_expected_tpw</a>  (state_handle, ens_size, location, tpw, istatus)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000201"></a>- there should be only a single location here. for now, use 1 but what to do in the general case? set a fixed top and bottom pressure?? </p>
<p class="enddd"><a class="anchor" id="_todo000200"></a>&mdash; This may be different for each ensemble memeber &mdash;  </p>
</dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__upper__atm__mod.html#aafa378e1290e0723892c6b536ef4a20e">obs_def_upper_atm_mod::get_expected_gnd_gps_vtec</a>  (state_handle, ens_size, location, obs_val, istatus)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000203"></a>Is the logic correct in this code on the Trunk Should you return from the subroutine instead of exiting the loop at exit LEVELS </p>
<p class="enddd"><a class="anchor" id="_todo000186"></a>Is the logic correct in this code on the Trunk Should you return from the subroutine instead of exiting the loop at exit LEVELS  </p>
</dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__upper__atm__mod.html#af58cba191410db1dfe3b2f7e21539e78">obs_def_upper_atm_mod::get_expected_o_n2_ratio</a>  (state_handle, ens_size, location, obs_val, istatus)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000187"></a>FIXME: this is setting the same location for VERTISLEVEL as the loop below, so one can <em>not</em> be filling the interfaces and the other filling the midpoints. </p>
<p class="interdd"><a class="anchor" id="_todo000188"></a>FIXME: don't we know how many layers there are now? </p>
<p class="interdd"><a class="anchor" id="_todo000189"></a>should this be an error instead of a message? </p>
<p class="interdd"><a class="anchor" id="_todo000204"></a>FIXME: this is setting the same location for VERTISLEVEL as the loop below, so one can <em>not</em> be filling the interfaces and the other filling the midpoints. </p>
<p class="interdd"><a class="anchor" id="_todo000205"></a>FIXME: don't we know how many layers there are now? </p>
<p class="enddd"><a class="anchor" id="_todo000206"></a>should this be an error instead of a message?  </p>
</dd>
<dt>Subprogram <a class="el" href="namespaceobs__def__upper__atm__mod.html#ac147e83694c90cedd4a8ecb208919917">obs_def_upper_atm_mod::get_expected_upper_atm_density</a>  (state_handle, ens_size, location, obs_val, istatus)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000202"></a>Test RMA. </p>
<p class="enddd"><a class="anchor" id="_todo000185"></a>Test RMA.  </p>
</dd>
<dt>Module <a class="el" href="namespaceobs__def__vortex__mod.html">obs_def_vortex_mod</a>  </dt>
<dd><a class="anchor" id="_todo000207"></a>make a namelist-defined grid (lower left corner, nx, ny, dx, dy) allocate, call interp for t, u, v, p and fill it. store the location of the obs being interpolated. compute the values. wait for subsequent calls for this same location.  </dd>
<dt>Subprogram <a class="el" href="obs__info_8f90.html#a028f6bea14ec91026277e4673e4770fa">obs_info</a>  </dt>
<dd><a class="anchor" id="_todo000153"></a>FIXME This routine should use print_obs_seq_summary.  </dd>
<dt>Subprogram <a class="el" href="namespaceobs__kind__mod.html#aa85761396c30a8ca7976a46d4443ed77">obs_kind_mod::get_index_for_type_of_obs</a>  (obs_type_name)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000112"></a>FIXME binary search on a sorted list? </p>
<p class="enddd"><a class="anchor" id="_todo000108"></a>FIXME binary search on a sorted list?  </p>
</dd>
<dt>Subprogram <a class="el" href="namespaceobs__model__mod.html#a03fc749b8153a9183a25baa68e40b6b1">obs_model_mod::advance_state</a>  (ens_handle, ens_size, target_time, async, adv_ens_command, tasks_per_model_advance, file_info_output, file_info_input)</dt>
<dd><a class="anchor" id="_todo000037"></a>FIXME write the netCDF restart names into the control file  </dd>
<dt>Subprogram <a class="el" href="namespaceobs__seq__utilities__mod.html#ab03063896e512e1e233f313c2185912e">obs_seq_utilities_mod::missing_name</a>  </dt>
<dd><a class="anchor" id="_todo000236"></a>FIXME there is no documentation for this module  </dd>
<dt>Subprogram <a class="el" href="namespaceobs__sequence__mod.html#a75c8a2e004f5e060234b1ce4e776356c">obs_sequence_mod::read_obs_seq_header</a>  (file_name, num_copies, num_qc, num_obs, max_num_obs, file_id, read_format, pre_i_format, close_the_file)</dt>
<dd><a class="anchor" id="_todo000113"></a>Can we check the other binary file endianness ... can only be native, big or little ... could remove obs_sequence_nml:read_binary_file_format  </dd>
<dt>Subprogram <a class="el" href="namespaceobs__utilities__mod.html#a0d4dddaf74dc4d8416a666b1bf3de53f">obs_utilities_mod::get_2dshort_as_r8</a>  (ncid, varname, darray, dmiss)</dt>
<dd><a class="anchor" id="_todo000239"></a>FIXME need missing_exists or something  </dd>
<dt>Subprogram <a class="el" href="namespaceobs__utilities__mod.html#a8b7009483f9948427887f276cbb636a3">obs_utilities_mod::get_short_as_r8</a>  (ncid, varname, darray, dmiss)</dt>
<dd><a class="anchor" id="_todo000238"></a>FIXME need missing_exists or something  </dd>
<dt>Subprogram <a class="el" href="namespaceobs__utilities__mod.html#a64ba7ebe101a429b98887125118c16b5">obs_utilities_mod::missing_name</a>  </dt>
<dd><a class="anchor" id="_todo000237"></a>FIXME there is no documentation for this module  </dd>
<dt>Subprogram <a class="el" href="perfect__model__obs_8f90.html#a58753874ca7dcb34421e47b0b8aab056">perfect_main</a>  ()</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000154"></a>FIXME: copies and qc should be set using the meta data strings not hard </p>
<p class="interdd"><a class="anchor" id="_todo000156"></a>FIXME this block must be supported in the single file loop with time dimension </p>
<p class="enddd"><a class="anchor" id="_todo000155"></a>FIXME if nfilesout == 0 and write_output_state_to_file is .false. that shouldn't be an error. if nfilesin == 0 and read_input_state_from_file is false, that also shouldn't be an error. (unless you're writing the mean and sd, and then maybe we should have a different name for output of input values.)  </p>
</dd>
<dt>Subprogram <a class="el" href="preprocess_8f90.html#a841bb6685de4c486de95a6837183e6f1">preprocess</a>  </dt>
<dd><a class="anchor" id="_todo000157"></a>FIXME: the module name is set by whatever is in the DEFAULT_xxx file which is still <a class="el" href="namespaceobs__kind__mod.html">obs_kind_mod</a> instead of <em>qty</em>. also i have changed the default filenames here to be <em>qty</em>(HK?) but in reality all the pathnames files for the build system expect <em>kind</em> and the names are always specified in our input.nml namelist files, so we aren't depending on the defaults. (maybe we should?) and finally, this code generates module 'use' statements, and those, to keep things working, are still outputing "use obs_kind_mod" instead of "use obs_qty_mod". this should change but i'm not sure when.  </dd>
<dt>Subprogram <a class="el" href="namespacequality__control__mod.html#a152375be57ccf6b85d8b4ff1440370c7">quality_control_mod::input_qc_threshold</a>  </dt>
<dd><a class="anchor" id="_todo000038"></a>... in the (upcoming) html ... mention that outlier_threshold = 3.0 is a good value  </dd>
<dt>Subprogram <a class="el" href="_s_m_a_p___l2__to__obs_8f90.html#aa38b4770d283f86d529580ced8826166">read_observation_times</a>  (file_id, filename)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000226"></a>hardcoded for now </p>
<p class="interdd"><a class="anchor" id="_todo000224"></a>check to make sure units are 'seconds' </p>
<p class="enddd"><a class="anchor" id="_todo000225"></a>check to make sure 'seconds since midnight on January 1, 2000 UTC'  </p>
</dd>
<dt>Subprogram <a class="el" href="gen__sampling__err__table_8f90.html#aa8e23d53d7d84d3f82cf211777777df6">remove_dups</a>  (num_vals, val_list)</dt>
<dd><a class="anchor" id="_todo000131"></a>FIXME this belongs in a utilities module  </dd>
<dt>Subprogram <a class="el" href="model__mod__check_8f90.html#a45dd14e7ae9b9e68b5f9b6b01dbe2003">set_logical_flag</a>  (def_val, user_val)</dt>
<dd><a class="anchor" id="_todo000134"></a>this belongs in the utils module, yes?  </dd>
<dt>Module <a class="el" href="namespacesort__mod.html">sort_mod</a>  </dt>
<dd><a class="anchor" id="_todo000122"></a>FIXME - some routines work in place and some return copies. this affects the calling code in a very visible way. can we make these consistent? or add an optional argument that says copy or no? (hard to do because some are functions that return the copy; some are subroutines that work in place. would need to change the calling code to be all subroutines and pass in either a single array for "in place" or a src and dst array for copy.  </dd>
<dt>Subprogram <a class="el" href="group__state__structure__mod.html#gac79cf23faced432ac20799dcab4be470">state_structure_mod::add_domain_blank</a>  (domain_size)</dt>
<dd><a class="anchor" id="_todo000087"></a>FIXME : what is a good default for kind_string  </dd>
<dt>Subprogram <a class="el" href="group__state__structure__mod.html#ga8a0e5e820fdfc110c19e20fd83347090">state_structure_mod::add_domain_from_file</a>  (info_file, num_vars, var_names, kind_list, clamp_vals, update_list)</dt>
<dd><a class="anchor" id="_todo000086"></a>dom_id should be a handle.  </dd>
<dt>Subprogram <a class="el" href="group__state__structure__mod.html#gab0cd2cbeba9100e06c8552c8c75bad23">state_structure_mod::add_time_unlimited</a>  (unlimited_dimid)</dt>
<dd><a class="anchor" id="_todo000092"></a>this is a terrible name. The unlimited dimension can be for anything, not just time.  </dd>
<dt>Subprogram <a class="el" href="group__state__structure__mod.html#gac214ffdd2711c273dc4497fbd542fa83">state_structure_mod::finished_adding_domain</a>  (dom_id)</dt>
<dd><a class="anchor" id="_todo000093"></a>sort by character to get unique dimensions. nancy has already written this, use and test  </dd>
<dt>Subprogram <a class="el" href="group__state__structure__mod.html#gac83aae2466010e050988fdecdc2a4f30">state_structure_mod::get_kind_index</a>  (dom_id, var_id)</dt>
<dd><a class="anchor" id="_todo000096"></a>need to switch all kinds to qty  </dd>
<dt>Subprogram <a class="el" href="group__state__structure__mod.html#gae5036f4e076da6d6b05f56a6fc89f180">state_structure_mod::load_common_cf_conventions</a>  (domain)</dt>
<dd><a class="anchor" id="_todo000090"></a>FIXME : Not supporting scale factor or offset at the moment, so just error. To fully support netCDF I/O we need to pack and unpack the variable if these attributes exist.  </dd>
<dt>Subprogram <a class="el" href="group__state__structure__mod.html#ga12d4d1d37b48b3bb118a12b7a15c435e">state_structure_mod::load_variable_sizes</a>  (ncfile, domain)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000089"></a>: how to handle models with multiple unlimited dimensions? nf90_inquire returns the first unlimited dimension id which is the slowest varying dimension. For now am assuming that there can only be one unlimited dimension. Just subtract to get 'spatial' dimensions. </p>
<p class="enddd"><a class="anchor" id="_todo000088"></a>FIXME we'll have to document that no user can have a 'member' dimension in their own netcdf files. it's more reasonable to indicate 'time' is special but this code doesn't know if its a user file or one we wrote. but without skipping these dimensions you get the wrong variable size because it includes all times and all members in the size. this needs to be revisited later.  </p>
</dd>
<dt>Subprogram <a class="el" href="group__state__structure__mod.html#ga992db47810ea7c2d14da8cfaf2dd8038">state_structure_mod::set_var_id</a>  (dom_id, ivar, new_varid)</dt>
<dd><a class="anchor" id="_todo000091"></a>no corresponding 'get', no way to check if it worked, is new_varid valid?  </dd>
<dt>Subprogram <a class="el" href="namespacestate__structure__mod.html#a2f1a697aeac0aa0d6bc00395735baa9c">state_structure_mod::source</a>  </dt>
<dd><a class="anchor" id="_todo000083"></a>FIXME these routines are deprecated because we are no supporting 'diagnostic' files, but they will likely be useful for the single file (multiple member) input.  </dd>
<dt>Subprogram <a class="el" href="group__state__structure__mod.html#ga4e71f163add0278fb854eae55a48d6db">state_structure_mod::state_structure_info</a>  (dom_id)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000095"></a>FIXME : only storing r8 at the moment since DART is not using these values to compress and uncompress file information </p>
<p class="enddd"><a class="anchor" id="_todo000094"></a>rename to print_domain_info or something  </p>
</dd>
<dt>Subprogram <a class="el" href="group__state__structure__mod.html#ga860e48ecf43771f966830db7d3f0face">state_structure_mod::variable_type::index_start</a>  </dt>
<dd><a class="anchor" id="_todo000084"></a>FIXME : should we have a missingI8  </dd>
<dt>Subprogram <a class="el" href="group__state__vector__io__mod.html#ga2583013ca7e4d91bb18b366c5ecc2765">state_vector_io_mod::fill_single_inflate_val_from_read</a>  (ens_handle, prior_inflate_handle, post_inflate_handle)</dt>
<dd><a class="anchor" id="_todo000107"></a>We need to refactor this, not sure where it is being used  </dd>
<dt>Subprogram <a class="el" href="group__state__vector__io__mod.html#gaaf08b4c27a3c48fba367e040594aee03">state_vector_io_mod::max_stages</a>  </dt>
<dd><a class="anchor" id="_todo000098"></a>FIXME these should not be hardcoded this way. the more general solution is to have a get_output_stage() function that takes a string, and compares the string against a list of valid strings. the strings should be stored in an array and the interpretation of what they mean should NOT be enforced here. the calling code knows what they are for; it should be a black box here.  </dd>
<dt>Subprogram <a class="el" href="group__state__vector__io__mod.html#gaf000183b2a56395ce9b99897ff7c2c77">state_vector_io_mod::read_restart_direct</a>  (state_ens_handle, file_info, use_time_from_file, model_time)</dt>
<dd><a class="anchor" id="_todo000106"></a>Check time constistency across files? This is assuming they are consistent.  </dd>
<dt>Subprogram <a class="el" href="group__state__vector__io__mod.html#ga2cf6bb0500d00f01633c84ba7fc0be63">state_vector_io_mod::read_state</a>  (state_ens_handle, file_info, read_time_from_file, model_time, prior_inflate_handle, post_inflate_handle, perturb_from_single_copy)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000101"></a>FIXME understand this ... what is it doing and why. </p>
<p class="interdd"><a class="anchor" id="_todo000100"></a>FIXME do we need a separate file_info for inflation </p>
<p class="interdd"><a class="anchor" id="_todo000099"></a>all-or-nothing WHY? </p>
<p class="interdd"><a class="anchor" id="_todo000102"></a>just a print at the moment </p>
<p class="interdd"><a class="anchor" id="_todo000103"></a></p>
<p class="interdd"><a class="anchor" id="_todo000104"></a>FIXME: the print code should all be in the inflation module. this code may be needed to figure out the filename but the actual output should come from a routine in <a class="el" href="adaptive__inflate__mod_8f90.html">adaptive_inflate_mod.f90</a> </p>
<p class="enddd"><a class="anchor" id="_todo000105"></a>FIXME: ditto here - the output should be from a routine in the <a class="el" href="adaptive__inflate__mod_8f90.html">adaptive_inflate_mod.f90</a> code  </p>
</dd>
<dt>Subprogram <a class="el" href="test__read__write__time_8f90.html#a216407f8ea1292df17a5c8347bfaa451">test_read_write_time</a>  </dt>
<dd><a class="anchor" id="_todo000159"></a>FIXME - add more tests ... wrong calendars, etc.  </dd>
<dt>Struct <a class="el" href="structtlrv__type.html">tlrv_type</a>  </dt>
<dd><p class="startdd"><a class="anchor" id="_todo000150"></a>must be a more clever way to relate the copy_names to the components </p>
<p class="interdd"><a class="anchor" id="_todo000149"></a>remove after verifying NbiqQC, NbadIZ not used in plotting scripts </p>
<p class="interdd"><a class="anchor" id="_todo000141"></a>remove after verifying NbiqQC, NbadIZ not used in plotting scripts </p>
<p class="interdd"><a class="anchor" id="_todo000146"></a>must be a more clever way to relate the copy_names to the components </p>
<p class="interdd"><a class="anchor" id="_todo000145"></a>remove after verifying NbiqQC, NbadIZ not used in plotting scripts </p>
<p class="enddd"><a class="anchor" id="_todo000142"></a>must be a more clever way to relate the copy_names to the components  </p>
</dd>
<dt>Struct <a class="el" href="structtrv__type.html">trv_type</a>  </dt>
<dd><a class="anchor" id="_todo000135"></a>must be a more clever way to relate the copy_names to the components  </dd>
<dt>Subprogram <a class="el" href="namespaceutilities__mod.html#a0e87dd8aa0aa96f30b85574c2993f168">utilities_mod::find_first_occurrence</a>  (nitems, data_array, value_to_find, the_index, my_status, inverted, indirect_indices, the_indirect_index)</dt>
<dd><a class="anchor" id="_todo000127"></a>FIXME - do we need an integer version of this? (i think yes) possibly also a character version for arrays of strings. C++ overloading would be nice sometimes.  </dd>
<dt>Subprogram <a class="el" href="namespaceutilities__mod.html#a3f63425c321a0636992b51e9c79fcac7">utilities_mod::initialize_utilities</a>  (progname, alternatename, output_flag, standalone_program)</dt>
<dd><a class="anchor" id="_todo000123"></a>see if we like leaving this off  </dd>
<dt>Subprogram <a class="el" href="namespaceutilities__mod.html#ad297e7b3a121a9c280417846a9198ac9">utilities_mod::timestamp</a>  (string1, string2, string3, pos)</dt>
<dd><p class="startdd"><a class="anchor" id="_todo000125"></a>remove this option after a few months of having it deprecated. </p>
<p class="enddd"><a class="anchor" id="_todo000124"></a>FIXME: nsc opinion:</p><ol type="1">
<li>this routine should NOT support 'end' anymore. the calling code should call finalize_utilities() directly. <br  />
</li>
<li>'brief' format should be the default (easier to grep for and to sed for postprocessing)</li>
<li>write_time() should be able to take a string to write into  </li>
</ol>
</dd>
<dt>Subprogram <a class="el" href="namespaceutilities__mod.html#adcb6005aad342e7745713b7b4a2fce81">utilities_mod::write_time</a>  (unit, label, string1, string2, string3, tz, brief)</dt>
<dd><a class="anchor" id="_todo000126"></a>write into a string to avoid replicating complex lines add on the label if it's there separately.  </dd>
<dt>Subprogram <a class="el" href="gen__sampling__err__table_8f90.html#a5585cb1a079068355eb9809a0959a686">valid_entries</a>  (list, min_valid, max_valid, where)</dt>
<dd><a class="anchor" id="_todo000130"></a>FIXME this belongs in the utilities module  </dd>
<dt>Subprogram <a class="el" href="group__window.html#ga29e9185d513daa4424ff7f8bd88d2f85">window_mod::no_window</a>  </dt>
<dd><p class="startdd"><a class="anchor" id="_todo000121"></a>should this be in the <a class="el" href="namespacewindow__mod.html" title="Contains the window information for the state. Two windows: One for all copies, one for the mean....">window_mod</a>? you will have to change in both cray and non cray versions </p>
<p class="interdd"><a class="anchor" id="_todo000114"></a>the number of copies in the window is sloppy. You need to make this better. </p>
<p class="enddd"><a class="anchor" id="_todo000120"></a>should this be in the <a class="el" href="namespacewindow__mod.html" title="Contains the window information for the state. Two windows: One for all copies, one for the mean....">window_mod</a>? you will have to change in both cray and non cray versions </p>
</dd>
</dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
