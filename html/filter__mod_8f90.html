<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DART MOM6: /Users/hkershaw/DART/Doxygen/DART/assimilation_code/modules/assimilation/filter_mod.f90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DART MOM6
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4b8c547e68dcddf016c38a1b08f5c7a9.html">DART</a></li><li class="navelem"><a class="el" href="dir_45bc59af759ed40ec308edf679618634.html">assimilation_code</a></li><li class="navelem"><a class="el" href="dir_b72b743c828fcd5d2c7dc1877007622f.html">modules</a></li><li class="navelem"><a class="el" href="dir_d78ed87430fac0d960d4b4f65a0ced15.html">assimilation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Modules</a> &#124;
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">filter_mod.f90 File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="filter__mod_8f90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Modules</h2></td></tr>
<tr class="memitem:namespacefilter__mod" id="r_namespacefilter__mod"><td class="memItemLeft" align="right" valign="top">module &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html">filter_mod</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ab534c6a0fba7c3dc09e5e1d7d4081725" id="r_ab534c6a0fba7c3dc09e5e1d7d4081725"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#ab534c6a0fba7c3dc09e5e1d7d4081725">filter_mod::filter_main</a> ()</td></tr>
<tr class="memdesc:ab534c6a0fba7c3dc09e5e1d7d4081725"><td class="mdescLeft">&#160;</td><td class="mdescRight">The code does not use vars arrays except:  <br /></td></tr>
<tr class="separator:ab534c6a0fba7c3dc09e5e1d7d4081725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18dfcddac920a8f061dabcb6bb209896" id="r_a18dfcddac920a8f061dabcb6bb209896"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a18dfcddac920a8f061dabcb6bb209896">filter_mod::filter_generate_copy_meta_data</a> (seq, in_obs_copy, prior_obs_mean_index, posterior_obs_mean_index, prior_obs_spread_index, posterior_obs_spread_index, do_post)</td></tr>
<tr class="memdesc:a18dfcddac920a8f061dabcb6bb209896"><td class="mdescLeft">&#160;</td><td class="mdescRight">This generates the copy meta data for the diagnostic files. And also creates the state space diagnostic file. Note for the state space diagnostic files the order of copies in the diagnostic file is different from the order of copies in the ensemble handle.  <br /></td></tr>
<tr class="separator:a18dfcddac920a8f061dabcb6bb209896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2c376d8c98d53a47939ed391ced0654" id="r_ab2c376d8c98d53a47939ed391ced0654"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#ab2c376d8c98d53a47939ed391ced0654">filter_mod::filter_initialize_modules_used</a> ()</td></tr>
<tr class="separator:ab2c376d8c98d53a47939ed391ced0654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff0be69ea73156970fbb804687c8a60" id="r_a0ff0be69ea73156970fbb804687c8a60"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a0ff0be69ea73156970fbb804687c8a60">filter_mod::filter_setup_obs_sequence</a> (seq, in_obs_copy, obs_val_index, input_qc_index, dart_qc_index, do_post)</td></tr>
<tr class="separator:a0ff0be69ea73156970fbb804687c8a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45d8882093c501baf81dab4bbfaecd47" id="r_a45d8882093c501baf81dab4bbfaecd47"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a45d8882093c501baf81dab4bbfaecd47">filter_mod::get_obs_copy_index</a> (seq)</td></tr>
<tr class="separator:a45d8882093c501baf81dab4bbfaecd47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2547988fa5bca92f49db99a8c35b884" id="r_ae2547988fa5bca92f49db99a8c35b884"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#ae2547988fa5bca92f49db99a8c35b884">filter_mod::get_obs_prior_index</a> (seq)</td></tr>
<tr class="separator:ae2547988fa5bca92f49db99a8c35b884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015eadf785bd049f7206906db314cb39" id="r_a015eadf785bd049f7206906db314cb39"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a015eadf785bd049f7206906db314cb39">filter_mod::get_obs_qc_index</a> (seq)</td></tr>
<tr class="separator:a015eadf785bd049f7206906db314cb39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a585dca55b5debccfa928f3ebcf204f33" id="r_a585dca55b5debccfa928f3ebcf204f33"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a585dca55b5debccfa928f3ebcf204f33">filter_mod::get_obs_dartqc_index</a> (seq)</td></tr>
<tr class="separator:a585dca55b5debccfa928f3ebcf204f33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e2ebccfd942a3b044aa43c9b7e82a70" id="r_a8e2ebccfd942a3b044aa43c9b7e82a70"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a8e2ebccfd942a3b044aa43c9b7e82a70">filter_mod::get_blank_qc_index</a> (seq)</td></tr>
<tr class="separator:a8e2ebccfd942a3b044aa43c9b7e82a70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22a4a883f0645ff7f8efaeb9bd5cd922" id="r_a22a4a883f0645ff7f8efaeb9bd5cd922"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a22a4a883f0645ff7f8efaeb9bd5cd922">filter_mod::filter_set_initial_time</a> (days, seconds, dart_time, read_time_from_file)</td></tr>
<tr class="separator:a22a4a883f0645ff7f8efaeb9bd5cd922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac69510af5cd47b53ce1c782db673a7b" id="r_aac69510af5cd47b53ce1c782db673a7b"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#aac69510af5cd47b53ce1c782db673a7b">filter_mod::filter_set_window_time</a> (dart_time)</td></tr>
<tr class="separator:aac69510af5cd47b53ce1c782db673a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fd1b250445c2c0f3787fb29ac42070d" id="r_a8fd1b250445c2c0f3787fb29ac42070d"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a8fd1b250445c2c0f3787fb29ac42070d">filter_mod::filter_ensemble_inflate</a> (ens_handle, inflate_copy, inflate, <a class="el" href="namespacefilter__mod.html#a8d623acb12e1ecbc4363a56084526205">ens_mean_copy</a>, <a class="el" href="namespacefilter__mod.html#aaf1e25fd8591ef5235d72965ec31be1a">spare_prior_spread</a>, <a class="el" href="namespacefilter__mod.html#ac551eccc90bd5d6a4071dc05aac6eb92">ens_sd_copy</a>)</td></tr>
<tr class="separator:a8fd1b250445c2c0f3787fb29ac42070d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf56dc433ec988bba9ea76465912e7fe" id="r_adf56dc433ec988bba9ea76465912e7fe"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#adf56dc433ec988bba9ea76465912e7fe">filter_mod::obs_space_diagnostics</a> (obs_fwd_op_ens_handle, qc_ens_handle, <a class="el" href="namespacefilter__mod.html#a5e40e9ef4fd38aeac49bc60576a62291">ens_size</a>, seq, keys, prior_post, num_output_members, members_index, obs_val_index, obs_key_copy, ens_mean_index, ens_spread_index, num_obs_in_set, obs_mean_start, obs_var_start, obs_global_qc_copy, obs_val_copy, obs_err_var_copy, dart_qc_index, do_post)</td></tr>
<tr class="separator:adf56dc433ec988bba9ea76465912e7fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a62226d734bdac0c4382ccb5b40cb32" id="r_a0a62226d734bdac0c4382ccb5b40cb32"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a0a62226d734bdac0c4382ccb5b40cb32">filter_mod::obs_space_sync_qcs</a> (obs_fwd_op_ens_handle, seq, keys, num_obs_in_set, obs_global_qc_copy, dart_qc_index)</td></tr>
<tr class="separator:a0a62226d734bdac0c4382ccb5b40cb32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada27732886b93ce2c52f2b0c1ed87a06" id="r_ada27732886b93ce2c52f2b0c1ed87a06"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#ada27732886b93ce2c52f2b0c1ed87a06">filter_mod::filter_sync_keys_time</a> (ens_handle, key_bounds, num_obs_in_set, time1, time2)</td></tr>
<tr class="separator:ada27732886b93ce2c52f2b0c1ed87a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac167793e46b9ae30bc56975ce777cae4" id="r_ac167793e46b9ae30bc56975ce777cae4"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#ac167793e46b9ae30bc56975ce777cae4">filter_mod::broadcast_time_across_copy_owners</a> (ens_handle, ens_time)</td></tr>
<tr class="separator:ac167793e46b9ae30bc56975ce777cae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27e9b289aac5155c54ec925951569906" id="r_a27e9b289aac5155c54ec925951569906"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a27e9b289aac5155c54ec925951569906">filter_mod::set_trace</a> (<a class="el" href="namespacefilter__mod.html#a349103b2b5767dd7dad2bc4a2d32cd0f">trace_execution</a>, <a class="el" href="namespacefilter__mod.html#a95db313d402d4f31b9ddb5f4347b9a6f">output_timestamps</a>, <a class="el" href="namespacefilter__mod.html#a2e6d996cd39b3f4929f0085c751e6950">silence</a>)</td></tr>
<tr class="separator:a27e9b289aac5155c54ec925951569906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6658b80041969cae23bbf11c69a05759" id="r_a6658b80041969cae23bbf11c69a05759"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a6658b80041969cae23bbf11c69a05759">filter_mod::trace_message</a> (msg, label, threshold)</td></tr>
<tr class="separator:a6658b80041969cae23bbf11c69a05759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d8ae1aa989d1726a6213d7b5bdee6e1" id="r_a9d8ae1aa989d1726a6213d7b5bdee6e1"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a9d8ae1aa989d1726a6213d7b5bdee6e1">filter_mod::timestamp_message</a> (msg, sync)</td></tr>
<tr class="separator:a9d8ae1aa989d1726a6213d7b5bdee6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d0e49b8aa9528930458f716b6904f0b" id="r_a7d0e49b8aa9528930458f716b6904f0b"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a7d0e49b8aa9528930458f716b6904f0b">filter_mod::progress</a> (msg, when, dotime, label, threshold, sync)</td></tr>
<tr class="memdesc:a7d0e49b8aa9528930458f716b6904f0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">call progress(string, T_BEFORE, P_TIME, label, threshold, sync) ! trace plus timestamp  <br /></td></tr>
<tr class="separator:a7d0e49b8aa9528930458f716b6904f0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e4cd481d9e540ad14c261eaa668cbab" id="r_a7e4cd481d9e540ad14c261eaa668cbab"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a7e4cd481d9e540ad14c261eaa668cbab">filter_mod::print_ens_time</a> (ens_handle, msg)</td></tr>
<tr class="separator:a7e4cd481d9e540ad14c261eaa668cbab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab25b55818d4f6cd0b91c8a17365c4736" id="r_ab25b55818d4f6cd0b91c8a17365c4736"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#ab25b55818d4f6cd0b91c8a17365c4736">filter_mod::print_obs_time</a> (seq, key, msg)</td></tr>
<tr class="separator:ab25b55818d4f6cd0b91c8a17365c4736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9da208130303c28f02f238d499069e2" id="r_af9da208130303c28f02f238d499069e2"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#af9da208130303c28f02f238d499069e2">filter_mod::verbose_forward_op_output</a> (qc_ens_handle, prior_post, <a class="el" href="namespacefilter__mod.html#a5e40e9ef4fd38aeac49bc60576a62291">ens_size</a>, keys)</td></tr>
<tr class="memdesc:af9da208130303c28f02f238d499069e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">write out failed forward operators This was part of obs_space_diagnostics  <br /></td></tr>
<tr class="separator:af9da208130303c28f02f238d499069e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ee31f0112a3cd495806db9af6204aa4" id="r_a9ee31f0112a3cd495806db9af6204aa4"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a9ee31f0112a3cd495806db9af6204aa4">filter_mod::create_ensemble_from_single_file</a> (ens_handle)</td></tr>
<tr class="memdesc:a9ee31f0112a3cd495806db9af6204aa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produces an ensemble by copying my_vars of the 1st ensemble member and then perturbing the copies array. Mimicks the behaviour of pert_model_state: pert_model_copies is called: if no model perturb is provided, perturb_copies_task_bitwise is called. Note: Not enforcing a <a class="el" href="namespacemodel__mod.html">model_mod</a> to produce a pert_model_copies that is bitwise across any number of tasks, although there is enough information in the ens_handle to do this.  <br /></td></tr>
<tr class="separator:a9ee31f0112a3cd495806db9af6204aa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea21f1c63d14bee04ce8f04631a3c58" id="r_acea21f1c63d14bee04ce8f04631a3c58"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#acea21f1c63d14bee04ce8f04631a3c58">filter_mod::perturb_copies_task_bitwise</a> (ens_handle)</td></tr>
<tr class="separator:acea21f1c63d14bee04ce8f04631a3c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a448fd1d40ad4dc01e18b1035f72373f9" id="r_a448fd1d40ad4dc01e18b1035f72373f9"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a448fd1d40ad4dc01e18b1035f72373f9">filter_mod::set_time_on_extra_copies</a> (ens_handle)</td></tr>
<tr class="memdesc:a448fd1d40ad4dc01e18b1035f72373f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the time on any extra copies that a pe owns Could we just set the time on all copies?  <br /></td></tr>
<tr class="separator:a448fd1d40ad4dc01e18b1035f72373f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cab091fff584d16a815ee1cae95cfc1" id="r_a6cab091fff584d16a815ee1cae95cfc1"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a6cab091fff584d16a815ee1cae95cfc1">filter_mod::store_input</a> (ens_handle, <a class="el" href="namespacefilter__mod.html#a0b2b5a18e2e9bb9f93959e89ea9442fa">prior_inflate</a>, <a class="el" href="namespacefilter__mod.html#aa2746c6159b24107d90e6920c5e029f9">post_inflate</a>)</td></tr>
<tr class="memdesc:a6cab091fff584d16a815ee1cae95cfc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the current mean, sd, inf_mean, inf_sd to spare copies Assuming that if the spare copy is there you should fill it.  <br /></td></tr>
<tr class="separator:a6cab091fff584d16a815ee1cae95cfc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4df205a40c5271f63f40b15a355a8ca" id="r_ae4df205a40c5271f63f40b15a355a8ca"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#ae4df205a40c5271f63f40b15a355a8ca">filter_mod::store_copies</a> (ens_handle, stage_copies)</td></tr>
<tr class="memdesc:ae4df205a40c5271f63f40b15a355a8ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the current mean, sd, inf_mean, inf_sd to spare copies Assuming that if the spare copy is there you should fill it.  <br /></td></tr>
<tr class="separator:ae4df205a40c5271f63f40b15a355a8ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aade0710f5022a2552c756dfc026fed63" id="r_aade0710f5022a2552c756dfc026fed63"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#aade0710f5022a2552c756dfc026fed63">filter_mod::count_state_ens_copies</a> (<a class="el" href="namespacefilter__mod.html#a5e40e9ef4fd38aeac49bc60576a62291">ens_size</a>, <a class="el" href="namespacefilter__mod.html#aa2746c6159b24107d90e6920c5e029f9">post_inflate</a>, <a class="el" href="namespacefilter__mod.html#a0b2b5a18e2e9bb9f93959e89ea9442fa">prior_inflate</a>)</td></tr>
<tr class="memdesc:aade0710f5022a2552c756dfc026fed63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count the number of copies to be allocated for the ensemble manager.  <br /></td></tr>
<tr class="separator:aade0710f5022a2552c756dfc026fed63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad673ddbd207f8a0f2c2f29d95b717a78" id="r_ad673ddbd207f8a0f2c2f29d95b717a78"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#ad673ddbd207f8a0f2c2f29d95b717a78">filter_mod::set_filename_info</a> (file_info, stage, num_ens, stage_copies)</td></tr>
<tr class="memdesc:ad673ddbd207f8a0f2c2f29d95b717a78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set file name information. For members restarts can be read from an input_state_file_list or constructed using a stage name and num_ens. The file_info handle knows whether or not there is an associated input_state_file_list. If no list is provided member filenames are written as : stage_member_####.nc (ex. preassim_member_0001.nc) extra copies are stored as : stage_basename.nc (ex. preassim_mean.nc)  <br /></td></tr>
<tr class="separator:ad673ddbd207f8a0f2c2f29d95b717a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b1d65085fce43bd275a8fe91bc0725e" id="r_a9b1d65085fce43bd275a8fe91bc0725e"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a9b1d65085fce43bd275a8fe91bc0725e">filter_mod::set_input_file_info</a> (file_info, num_ens, stage_copies)</td></tr>
<tr class="separator:a9b1d65085fce43bd275a8fe91bc0725e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fcd2a1cd08db2f0df8bb60b53a9f54b" id="r_a5fcd2a1cd08db2f0df8bb60b53a9f54b"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a5fcd2a1cd08db2f0df8bb60b53a9f54b">filter_mod::set_output_file_info</a> (file_info, num_ens, stage_copies, do_clamping, force_copy)</td></tr>
<tr class="separator:a5fcd2a1cd08db2f0df8bb60b53a9f54b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01bd6b2eba904d41a35c868fd2ec1c13" id="r_a01bd6b2eba904d41a35c868fd2ec1c13"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a01bd6b2eba904d41a35c868fd2ec1c13">filter_mod::parse_stages_to_write</a> (stages)</td></tr>
<tr class="memdesc:a01bd6b2eba904d41a35c868fd2ec1c13"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks the user input and informs the IO modules which files to write.  <br /></td></tr>
<tr class="separator:a01bd6b2eba904d41a35c868fd2ec1c13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eecc9eb93e7af86b7aed288d5900de4" id="r_a5eecc9eb93e7af86b7aed288d5900de4"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a5eecc9eb93e7af86b7aed288d5900de4">filter_mod::next_copy_number</a> (cnum, ncopies)</td></tr>
<tr class="memdesc:a5eecc9eb93e7af86b7aed288d5900de4"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks the user input and informs the IO modules which files to write.  <br /></td></tr>
<tr class="separator:a5eecc9eb93e7af86b7aed288d5900de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9eaef91b58f18b6b913aee9aa0ea912" id="r_ae9eaef91b58f18b6b913aee9aa0ea912"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#ae9eaef91b58f18b6b913aee9aa0ea912">filter_mod::initialize_file_information</a> (ncopies, file_info_input, file_info_mean_sd, file_info_forecast, file_info_preassim, file_info_postassim, file_info_analysis, file_info_output)</td></tr>
<tr class="memdesc:ae9eaef91b58f18b6b913aee9aa0ea912"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize file names and which copies should be read and or written  <br /></td></tr>
<tr class="separator:ae9eaef91b58f18b6b913aee9aa0ea912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a628081f6059e815cc6fc76703393cfbd" id="r_a628081f6059e815cc6fc76703393cfbd"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a628081f6059e815cc6fc76703393cfbd">filter_mod::set_copies</a> (cnum, stage_copies)</td></tr>
<tr class="memdesc:a628081f6059e815cc6fc76703393cfbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">set copy numbers. this is for when writing all stages at end  <br /></td></tr>
<tr class="separator:a628081f6059e815cc6fc76703393cfbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65acc7e86af9a343955b2e8557a2d00e" id="r_a65acc7e86af9a343955b2e8557a2d00e"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacefilter__mod.html#a65acc7e86af9a343955b2e8557a2d00e">filter_mod::test_obs_copies</a> (obs_fwd_op_ens_handle, information)</td></tr>
<tr class="memdesc:a65acc7e86af9a343955b2e8557a2d00e"><td class="mdescLeft">&#160;</td><td class="mdescRight">dump out obs_copies to file  <br /></td></tr>
<tr class="separator:a65acc7e86af9a343955b2e8557a2d00e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
